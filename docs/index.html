<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Valorant Statistics</title>
		<script src="jquery-3.5.1.min.js"></script>
		<!-- <script src="jquery.serialize-object.min.js"></script> -->
		<script src="chartShowHide.js"></script>
		<link rel="stylesheet" type="text/css" href="styles.css">
	</head>
	<body>
		<div style="margin:auto; margin-top:10px; width:66%; border-style:solid">
		<!-- title/description -->
			<h1>Valorant Statistics</h1>
			<p>Enter your stats after playing a game of Valorant and compare your stats with friends!</p>
			<p>Separation between game modes coming soon.</p>
			
			<!-- submit info form -->
			<fieldset>
				<form id="statSubmission" name="statSubmission">
					<div class="firstRow">
						<span style="width:49%">
							<label for="username">Username</label>
							<input type="text" id="username" name="Username" maxlength="30" required>
						</span>
						<span style="width:49%; margin-left:1%">
							<label for="datesubmit">Date</label>
							<input type="date" id="datesubmit" name="Date" required>
						</span>
					</div>
					<br>
					<div class="secondRow">
						<span style="width:24.25%">
							<label for="gametype">Game Type</label>
							<select id="gametype" name="Game_Type">
								<option value="Normal">Normal</option>
								<option value="Ranked">Ranked</option>
								<option value="Spike_Rush">Spike Rush</option>
								<option value="Deathmatch">Deathmatch</option>
							</select>
						</span>
						<span style="width:24.25%">
							<label for="map">Map</label>
							<select id="map" name="Map">
								<option value="Haven">Haven</option>
								<option value="Bind">Bind</option>
								<option value="Split">Split</option>
								<option value="Ascent">Ascent</option>
							</select>
						</span>
						<span style="width:24.25%; margin-left:0.5%">
							<label for="agent">Agent</label>
							<select id="agent" name="Agent">
								<option value="Breach">Breach</option>
								<option value="Brimstone">Brimstone</option>
								<option value="Cypher">Cypher</option>
								<option value="Jett">Jett</option>
								<option value="Omen">Omen</option>
								<option value="Phoenix">Phoenix</option>
								<option value="Raze">Raze</option>
								<option value="Sage">Sage</option>
								<option value="Sova">Sova</option>
								<option value="Viper">Viper</option>
								<option value="Reyna">Reyna</option>
								<option value="Killjoy">Killjoy</option>
							</select>
						</span>
						<span style="width:24.25%">
							<label for="outcome">Outcome</label>
							<select id="outcome" name="Outcome">
								<option value="Win">Win</option>
								<option value="Loss">Loss</option>
							</select>
						</span>
					</div>
					<br>
					<div class="thirdRow">
						<span style="width:32.5%">
							<label for="kills">Kills</label>
							<input type="number" id="kills" name="Kills" max="100" required>
						</span>
						<span style="width:32.5%; margin-left:0.5%"">
							<label for="deaths">Deaths</label>
							<input type="number" id="deaths" name="Deaths" max="100" required>
						</span>
						<span style="width:32.5%; margin-left:0.5%"">
							<label for="assists">Assists</label>
							<input type="number" id="assists" name="Assists" max="100" required>
						</span>
					</div>
					<br>
					<div class="fourthRow">
						<span style="width:32.5%">
							<label for="combatScore">Combat Score</label>
							<input type="number" id="combatScore" name="Combat_Score" max="1000" required>
						</span>
						<span style="width:32.5%; margin-left:0.5%"">
							<label for="roundsWon">Rounds Won</label>
							<input type="number" id="roundsWon" name="Rounds_Won" max="50" required>
						</span>
						<span style="width:32.5%; margin-left:0.5%"">
							<label for="roundsLost">Rounds Lost</label>
							<input type="number" id="roundsLost" name="Rounds_Lost" max="50" required>
						</span>
					</div>
					<br> <br>
					<div>
						<input type="submit" id="submitButton" style="width:25%; margin:auto">
					</div>
					<br>
				</form>
			</fieldset>
			
			<!-- <iframe width="43%" height="500" src="https://docs.google.com/spreadsheets/d/e/2PACX-1vTKbcONZJAmdOzRJGD8DIGPYuLiB_-8ftnV0BGn5C836q-MaDgpqpuLK8Ag8kYn7IggSYFg_upBWG0m/pubhtml?gid=0&amp;single=true&amp;widget=true&amp;headers=false"></iframe> -->
			<!-- <iframe width="800" height="400" seamless frameborder="0" scrolling="no" src="https://docs.google.com/spreadsheets/d/1Qy_RX6mUWXmTghXZlzFPUyKBkS91DFK3nKZwAiNx_pY/htmlembed/sheet?gid=2035895927&range=A1"></iframe> -->
			
			<!-- show general charts -->
			<h2 style="text-align:center">General Stats</h2>
			<div style="display:inline-block">
				<iframe width="49%" height="400" seamless frameborder="0" scrolling="no" src="https://docs.google.com/spreadsheets/d/1Qy_RX6mUWXmTghXZlzFPUyKBkS91DFK3nKZwAiNx_pY/htmlembed/sheet?gid=2035895927&range=A21"></iframe>
				<iframe width="49%" height="400" seamless frameborder="0" scrolling="no" src="https://docs.google.com/spreadsheets/d/1Qy_RX6mUWXmTghXZlzFPUyKBkS91DFK3nKZwAiNx_pY/htmlembed/sheet?gid=2035895927&range=B1"></iframe>
			</div>
			<br>
			
			<!-- chart picker -->
			<h2 style="text-align:center">Chart Picker</h2>
			<div style="display:inline-block">
				<span style="width:24.5%; margin-left:25%">
					<label for="horizontalAxis" style="text-align:center">Horizontal Axis</label>
					<select id="horizontalAxis" name="Horizontal_Axis">
						<option value=""></option>
						<option value="usernamePicker">Username</option>
					</select>
				</span>
				<span style="width:24.5%">
					<label for="verticalAxis" style="text-align:center">Vertical Axis</label>
					<select id="verticalAxis" name="Vertical_Axis">
					<option value=""></option>
						<option value="combatScorePicker">Combat Score</option>
						<option value="winRatioPicker">Win Ratio</option>
					</select>
				</span>
				<br><br>
			</div>
			<br>
			<div class="combatScorePerUsername" style="text-align:center"><iframe width="615" height="400" seamless frameborder="0" scrolling="no" src="https://docs.google.com/spreadsheets/d/1Qy_RX6mUWXmTghXZlzFPUyKBkS91DFK3nKZwAiNx_pY/htmlembed/sheet?gid=2035895927&range=I2"></iframe></div>
			<div class="winRatioPerUsername" style="text-align:center"><iframe width="615" height="400" seamless frameborder="0" scrolling="no" src="https://docs.google.com/spreadsheets/d/1Qy_RX6mUWXmTghXZlzFPUyKBkS91DFK3nKZwAiNx_pY/htmlembed/sheet?gid=2035895927&range=I21"></iframe></div>
			<br><br><br>
		</div>
		
		<!-- submit info, ajax call to write to google sheets -->
		<script>
			var $form = $('form#statSubmission'),
				url = 'https://script.google.com/macros/s/AKfycbxXo8KFwGfgvmkygrP7U688E_vyrqCbnIg7d8sg3wm1A0o2SQGI/exec'

			$('#submitButton').on('click', function(e) {
				if ($("#username").val() == "" || $("#datesubmit").val() == "" || $("#kills").val() == "" || $("#kills").val() > 100 || 
					$("#deaths").val() == "" || $("#deaths").val() > 100 || $("#assists").val() == "" || $("#assists").val() > 100 ||
					$("#combatScore").val() == "" || $("#combatScore").val() > 1000 || $("#roundsWon").val() == "" || 
					$("#roundsWon").val() > 50 || $("#roundsLost").val() == "" || $("#roundsLost").val() > 50){
				
				}
				else{
					e.preventDefault();
					var jqxhr = $.ajax({
					url: url,
					method: "GET",
					dataType: "json",
					data: $form.serialize()
					}).then(function (e) {
					alert("Submission Successful!");
					});
				}
			})
		</script>
	</body>
</html>
